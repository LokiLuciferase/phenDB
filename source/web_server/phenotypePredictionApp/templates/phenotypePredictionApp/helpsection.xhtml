<script>
    $(document).ready(function() {
       $('#help_section').load('http://www.phendb.org/help #inhalt');
    });
</script>

<div style="text-align:justify; text-justify:inter-word; line-height: 110%; white-space: pre-line; margin:10px; display:{{ showInputFormCSS }}"  id="help_section" title="Help">
</div>

<!--
<div style="text-align:justify; text-justify:inter-word; line-height: 110%; white-space: pre-line; margin:10px; display:{{ showInputFormCSS }}"  id="help_section" title="Help">
    <h3 id="phendbisanautomatedpipelineforthepredictionofmicrobialphenotypesbasedoncomparativegenomics">PhenDB is an automated pipeline for the prediction of microbial phenotypes based on comparative genomics.</h3>

<h1 id="concept">Concept</h1>

<p>The PhenDB pipeline takes as input genomic bins from a metagenomics experiment and returns predictions of phenotypes associated with the given bins.</p>

<ol>
<li>bins provided as nucleotide fasta files are used to perform gene prediction with Prodigal (Hyatt et al., 2010).</li>
<li>Hmmer (Eddy et al., 2001) then searches orthologous groups for the resulting protein sequences using the EggNOG DB (Huerta-Cepas et al., 2015).</li>
<li>Compleconta (Hyden et al., unpublished) estimates completeness, contamination and estimated taxonomic identity of the uploaded bins given a set of marker genes.</li>
<li>Finally the machine learning framework PICA (Feldbauer et al., 2015) uses support vector machine (SVM)-based models (calculated from genomes with known phenotypes) and the list of orthologous groups of proteins present in a bin/genome to predict whether the organism possesses a particular trait, and the confidence in that prediction. <br />
Currently, predictions for 45 different traits are calculated.  </li>
</ol>
<p>Please note that PhenDB is still in an early stage of development, and for several models we are still working on improving the training data. Thus, please take note of the "balanced accuracy" values ascribed to predictions. <br />
Additionally, please note that PhenDB currently does not provide trait predictions for archaeal bins.</p>

<h1 id="howtousephendb">How to Use PhenDB</h1>

<h3 id="inputfileformats">Input File Formats</h3>
<p>The PhenDB pipeline takes as input genomic bins from a Metagenomics experiment, which may be provided as:</p>
<ul>
<li>Nucleotide fasta file (raw or gzip-compressed)</li>
<li>Protein fasta file (raw or gzip-compressed)</li>
<li>tar.gz or zip archive of the above</li>
</ul>
<p>Please note that a flat file structure is required within archives. The current maximum file size for upload is 1 GB, the maximum file size per bin is 30 MB. Duplicate sequence files (determined by file content) will be silently dropped from the analysis. Empty sequence files will be silently dropped from the analysis.</p>

<h3 id="statisticalmeasures">Statistical Measures and Interpretation of Results</h3>
<p>PhenDB provides two separate confidence measures associated with trait predictions.</p>
<ol>
<li>Model confidence is the internal probability of class membership within the linear SVM model used by PICA (provided via Platt scaling). It can thus be seen as the internal confidence of the model into its prediction, given its training.</li>
<li>Balanced Accuracy is a confidence measure computed from completeness/contamination of the uploaded bin and the model's known predictive power. It can thus be interpreted as our confidence in the predictions of the model, given the bin's completeness and contamination. Values of Balanced Accuracy may range from 0.5 (predictions are expected to be random) to 1 (high expected correlation of predicted class and actual class).</li>
</ol>
<p>A balanced accuracy cutoff can be set when submitting to PhenDB: predictions with a balanced accuracy below the chosen cutoff value (range: 0.5 - 1) are then masked in the downloadable result ("n.d." instead of +/-). In the web interface, results can be masked and filtered as desired after computation.</p>
<p>As an additional filtering step applied after cut-off filtering, PhenDB masks predictions by hierarchical filtering based on known co-occurrence of traits. For example, a bin predicted as being Gram-positive does not receive a prediction with regards to the presence of T3SS and T6SS. Results filtered in this manner are marked with "n.c." (not calculated).</p>

<h3 id="outputfiles">Output Files</h3>
<p>After submission of a job to PhenDB, You are redirected to a site showing you the progress of your job. Progress may be checked by directly accessing the link to that site. After computation finishes, PhenDB provides a downloadable archive named after your Job ID (i.e. the key after ../results/ in the URL). This archive contains:  </p>
<ul>
<li>the folder individual_results:
<ul>
<li>a {bin name}.traits.csv file for every valid uploaded bin/genome. This file contains the model names, predictions (+/-/n.d./n.c.) along with model confidence and balanced accuracy values.</li></ul>
</li>
<li>the folder "summaries":
<ul>
<li>"trait_counts.csv": A summary file that shows for each model how many bins/genomes were predicted as "+", "-", "n.d." or "n.c."</li>
<li>"trait_summary_matrix.csv": A summary file that shows the verdict for each bin and each model as a matrix. Possible values other than +/- are n.c. (masked due to accuracy cutoff) and n.d. (not calculated due to hierarchical filtering).</li>
<li>"invalid_input_files.log.txt": If one or more of your uploaded files were invalid (e.g. not in FASTA format), a warning will appear to check this file. If all files are valid, this file is empty.</li>
<li>"PICA_trait_descriptions.txt": Contains the model names and the traits they are testing for.</li>
<li>"bin_summary.csv": Contains estimated completeness, contamination and strain heterogeneity of uploaded bins, as well as estimated taxonomic position computed by compleconta. Both completeness/contamination and taxonomic position are assigned via a marker gene-dependent approach. Bins are assigned to taxons where membership can be astablished at >= 90% confidence (meaning highly contaminated or incomplete bins are likely to be grouped close to the tree root, while high quality bins may be assigned more fine-grained taxonomic positions).</li>
<li>"krona_taxonomy.html": A Krona plot[6] of taxonomy.csv, detailing the distribution and abundance of taxa among uploaded bins.</li>
</ul>
</li>
</ul>

<h3 id="additionalinformation">Additional Information</h3>
<p>After submission, your job is queued and waits for completion of any previously submitted jobs. <br />
When computation starts, expect about 1-1.5 min of calculation time per bin. <br />
To receive a notification upon job completion, enter an email address during your submission. <br />
Alternatively, you may save the URL to your submission to retrieve your results later. <br />
Results are stored by PhenDB for 30 days - after which all user-uploaded data and associated results are deleted.</p>

<h1 id="references">References</h1>
<ol>
<li>Hyatt, Doug, et al. "Prodigal: prokaryotic gene recognition and translation initiation site identification." BMC bioinformatics 11.1 (2010): 119.  </li>
<li>Eddy, Sean R. "HMMER: Profile hidden Markov models for biological sequence analysis." (2001).</li>
<li>Huerta-Cepas, Jaime, et al. "eggNOG 4.5: a hierarchical orthology framework with improved functional annotations for eukaryotic, prokaryotic and viral sequences." Nucleic acids research 44.D1 (2015): D286-D293.  </li>
<li>Hyden, Patrick, et al., unpublished (https://github.com/phyden/compleconta)</li>
<li>Feldbauer, Roman, et al. "Prediction of microbial phenotypes based on comparative genomics." BMC bioinformatics 16.14 (2015): S1.</li>
<li>Ondov, Brian D et al. "Interactive metagenomic visualization in a Web browser" BMC Bioinformatics 2011 12:385</li>
</ol>
</div>
