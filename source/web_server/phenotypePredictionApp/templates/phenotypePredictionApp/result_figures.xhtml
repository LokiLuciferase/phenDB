{% load jsonify %}
<style>
    .result_figures {
        display: {{ showResultCSS }};
        margin:10px 10px 10px 10px;
    }
</style>
<div id="result_figures" class="result_figures">
    <div id="result_figure_trait_prediction" title="Trait Predictions">
        <div style="padding-bottom: 30px" class="row" id="dt_results_model_filter_wrapper">
            <div class="column" style="width: 100px; padding-right:10px" id="dt_result_model_filter_name">Filter Models</div>
            <div class="column">
                <input id="dt_results_model_filter"></input>
            </div>
            <div class="column">
                <button style="height:100%; margin-bottom:3px;" id="dt_results_model_filter_info">Model Overview</button>
            </div>
            <div id="dt_results_model_filter_info_text"></div>
        </div>
        <div style="padding-bottom: 30px" class="row" id="dt_results_bin_filter_wrapper">
            <div class="column" style="width: 100px; padding-right:10px" id="dt_result_bin_filter_name">Filter Bins</div>
            <div class="column">
                <input id="dt_results_bin_filter"></input>
            </div>
        </div>
        <div style="padding-bottom: 30px" class="row" id="dt_results_pval_filter_wrapper">
            <div class="column" style="width: 100px; padding-right:10px" id="dt_result_pval_filter_name">Probability Cutoff</div>
            <div class="column">
                <input id="dt_results_pval_filter"></input>
            </div>
        </div>
        <div style="padding-bottom: 30px" class="row" id="dt_results_accuracy_filter_wrapper">
            <div class="column" style="width: 100px; padding-right:10px" id="dt_result_accuracy_filter_name">Accuracy Cutoff</div>
            <div class="column">
                <input id="dt_results_accuracy_filter"></input>
            </div>
        </div>
        <div id="all_result_tables">
            <h3>Trait Prediction</h3>
            <div id="trait_prediction">
                <table id="trait_prediction_table" style="overflow-x:auto"></table>
            </div>
            <h3>Accuracy + Probability info</h3>
            <div id="trait_prediction_accuracy">
                <table id="prediction_details" style="overflow-x:auto"></table>
            </div>
            <h3>Trait Count Summary</h3>
            <div id="trait_prediction_summary">
                <table id="trait_prediction_summary_table" style="overflow-x:auto"></table>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function() {
        window.table_prediction_details_data = {{ table_prediction_details_data | safe}}
        window.table_prediction_details_titles = {{ table_prediction_details_titles | jsonify | safe }}
        var dataTable = new DataTable({{ table_prediction_details_data | safe}}, {{ table_prediction_details_titles | jsonify | safe}}, "#prediction_details");
        dataTable.initialize_result_figures();
    });
</script>