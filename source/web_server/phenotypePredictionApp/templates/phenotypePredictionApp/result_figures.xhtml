{% load jsonify %}
<style>
    .result_figures {
        display: {{ showResultCSS }};
        margin:10px 10px 10px 10px;
    }
</style>
<!-- TODO: change all titles -->
<div class="result_figures" id="result_figures1" title="Explore Your Results - Trait Predictions">
        <div id="dt_results">
            <div style="padding-bottom: 30px" class="row" id="dt_results_model_filter_wrapper">
                <div class="column" style="width: 100px; padding-right:10px" id="dt_result_model_filter_name">Filter Models</div>
                <div class="column">
                    <input id="dt_results_model_filter"></input>
                </div>
                <div class="column">
                    <button style="height:100%; margin-bottom:3px;" id="dt_results_model_filter_info">info</button>
                </div>
                <div id="dt_results_model_filter_info_text"></div>
            </div>
            <div style="padding-bottom: 30px" class="row" id="dt_results_bin_filter_wrapper">
                <div class="column" style="width: 100px; padding-right:10px" id="dt_result_bin_filter_name">Filter Bins</div>
                <div class="column">
                    <input id="dt_results_bin_filter"></input>
                </div>
            </div>
            <div style="padding-bottom: 30px" class="row" id="dt_results_pval_filter_wrapper">
                <div class="column" style="width: 100px; padding-right:10px" id="dt_result_pval_filter_name">PICA p-value cutoff</div>
                <div class="column">
                    <input id="dt_results_pval_filter"></input>
                </div>
            </div>
            <div style="padding-bottom: 30px" class="row" id="dt_results_accuracy_filter_wrapper">
                <div class="column" style="width: 100px; padding-right:10px" id="dt_result_accuracy_filter_name">accuracy cutoff</div>
                <div class="column">
                    <input id="dt_results_accuracy_filter"></input>
                </div>
            </div>
            <div id="table1">
                <table id="dt_results_table" width="100%" style="display: {{ showResultCSS }}; overflow-x:auto"></table>
            </div>
            <div id="table2">
                <table id="dt_results_table2" width="100%" style="display: {{ showResultCSS }}; overflow-x:auto"></table>
            </div>
        </div>
</div>
<script type="text/javascript">
                    $(document).ready(function() {
                        var resultListJson = {{ resultsList|jsonify | safe}};
                        if(resultListJson.length != 0) {
                            var resultsList_arr = resultList_to_datatable_input(resultListJson);
                            var resultsListJSTitles = resultsList_arr[0];
                            var resultsListJSValues = resultsList_arr[1];
                            var bins = getAllBins(resultsListJSValues);
                            window.models_arr = all_models_to_list({{ all_models|jsonify | safe }});
                            var model_names = window.models_arr[0];
                            var model_descriptions = window.models_arr[1];
                            initialize_result_figures(resultsListJSTitles, resultsListJSValues, model_names, model_descriptions, bins);
                        }
                    });
</script>